# 영화 추천 로직 소개

- 활용 데이터 : kaggle
[영화 데이터셋](https://www.kaggle.com/datasets/tmdb/tmdb-movie-metadata/data)

## 데이터 셋 handling
> Kaggle 제공 데이터셋을 추천 프로그램에 적합하도록 재가공 과정을 거침
1. tmdb_5000_movies.csv와 tmdb_5000_credits.csv 파일을 읽어와 title 열을 기준으로 병합
2. 필요한 부분만 추출 / JSON 데이터를 파싱하여 리스트로 변환 / 결측치 처리
3. 장르 별 추천이 이뤄지기에, 장르 별 인기도 계산
4. 영화의 장르와 평점을 결합한 문자열을 TF-IDF 벡터화한 후, 코사인 유사도를 계산 (코사인 유사도 계산 시, 계산되었던 인기도를 활용)
5. 장르, 평점, 인기도를 기반한 유사도 결과값은 npy 파일, 데이터셋 파일 재가공한 파일은 csv 파일로 저장

## 추천 로직 간단한 설명
> 위의 영화 리스트를 추출하는 부분은 Azure Function App 에서 작동하도록 함
1. 전달 받을 감정과 장르를 매칭
2. 전달 받은 타입 별로 감정을 고려해야하는 지 나눔
3. 감정 고려가 필요한 타입
   - 전달받은 감정과 장르 매칭되는 영화들을 필터링
   - 지정된 영화와 유사도 행렬을 통해 총 10개의 영화 추천
4.  감정 고려가 필요하지 않은 타입
     - 평점/인기도 기반 계산 결과 바탕으로 10개의 영화 추천
